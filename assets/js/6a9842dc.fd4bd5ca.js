"use strict";(self.webpackChunkessif_lab=self.webpackChunkessif_lab||[]).push([[1457],{7009:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return l},default:function(){return f},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return h}});var i=a(3117),n=a(102),r=(a(7294),a(3905)),o=(a(4996),["components"]),s={id:"tev2-toolbox-trrt",title:"Term Reference Resolution Tool (TRRT)",sidebar_label:"TRRT - Term Ref Resolution Tool",displayed_sidebar:"tev2SideBar",hide_table_of_contents:!0,scopetag:"tev2",date:20220421},l=void 0,p={unversionedId:"tev2/tev2-toolbox-trrt",id:"tev2/tev2-toolbox-trrt",title:"Term Reference Resolution Tool (TRRT)",description:"The Term Ref(erence) Resolution Tool (TRRT) takes markdown files that contain so-called term refs (e.g. \\terms community\\) and creates a copy for each of these files in which all term refs are converted to regular Markdown links, allowing such files to be further processed, e.g. by Github pages, Docusaurus or similar tools. Future versions of the TRRT may support conversion of term refs in other file types (e.g. HTML, LaTeX, docx, odt).",source:"@site/docs/tev2/tev2-toolbox-trrt.md",sourceDirName:"tev2",slug:"/tev2/tev2-toolbox-trrt",permalink:"/framework/docs/tev2/tev2-toolbox-trrt",draft:!1,editUrl:"https://github.com/essif-lab/framework/-/tree/master/docs/tev2/tev2-toolbox-trrt.md",tags:[],version:"current",frontMatter:{id:"tev2-toolbox-trrt",title:"Term Reference Resolution Tool (TRRT)",sidebar_label:"TRRT - Term Ref Resolution Tool",displayed_sidebar:"tev2SideBar",hide_table_of_contents:!0,scopetag:"tev2",date:20220421},sidebar:"tev2SideBar",previous:{title:"Using the Tools",permalink:"/framework/docs/tev2/tev2-toolbox-use"},next:{title:"MRGT - MRG Generation Tool",permalink:"/framework/docs/tev2/tev2-toolbox-mrgt"}},m={},h=[{value:"Term References",id:"termref",level:2},{value:"Alternative notation",id:"termref-alt",level:3},{value:"Basic TRRT functions",id:"trrt",level:2},{value:"Discussion Notes",id:"discussion-notes",level:2}],d={toc:h};function f(e){var t=e.components,a=(0,n.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Term Ref(erence) Resolution Tool (",(0,r.kt)("a",{parentName:"strong",href:"tev2-toolbox-trrt#trrt"},"TRRT"),")")," takes markdown files that contain so-called ",(0,r.kt)("a",{parentName:"p",href:"term-ref@"},"term refs")," (e.g. ","[",(0,r.kt)("inlineCode",{parentName:"p"},"terms community"),"]","(",(0,r.kt)("inlineCode",{parentName:"p"},"terms-community"),"@",(0,r.kt)("inlineCode",{parentName:"p"},"ctwg"),")) and creates a copy for each of these files in which all ",(0,r.kt)("a",{parentName:"p",href:"term-ref@"},"term refs")," are converted to regular ",(0,r.kt)("a",{parentName:"p",href:"https://www.markdownguide.org/basic-syntax/#links"},"Markdown links"),", allowing such files to be further processed, e.g. by Github pages, Docusaurus or similar tools. Future versions of the ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," may support conversion of ",(0,r.kt)("a",{parentName:"p",href:"term-ref@"},"term refs")," in other file types (e.g. HTML, LaTeX, docx, odt)."),(0,r.kt)("p",null,"In order to do so, ",(0,r.kt)("a",{parentName:"p",href:"tev2-toolbox-trrt#trrt"},"TRRT")," expects the ",(0,r.kt)("a",{parentName:"p",href:"@"},"SAF")," and the ",(0,r.kt)("a",{parentName:"p",href:"@"},"MRG")," of the ",(0,r.kt)("a",{parentName:"p",href:"@"},"scope")," from within which it is being called, to be available. The ",(0,r.kt)("a",{parentName:"p",href:"@"},"MRG")," is used to resolve all links to ",(0,r.kt)("a",{parentName:"p",href:"@"},"terms")," that are part of the ",(0,r.kt)("a",{parentName:"p",href:"@"},"terminology")," of this ",(0,r.kt)("a",{parentName:"p",href:"@"},"scope"),". The ",(0,r.kt)("a",{parentName:"p",href:"@"},"SAF")," is used to locate the ",(0,r.kt)("a",{parentName:"p",href:"@"},"MRG's")," of any (other) ",(0,r.kt)("a",{parentName:"p",href:"@"},"scope")," whose ",(0,r.kt)("a",{parentName:"p",href:"@"},"scopetag")," is used as part of a ",(0,r.kt)("a",{parentName:"p",href:"term-ref@"},"reference")," that needs to be resolved."),(0,r.kt)("h2",{id:"termref"},"Term References"),(0,r.kt)("p",null,"A ",(0,r.kt)("a",{parentName:"p",href:"@"},"term ref")," is similar to a ",(0,r.kt)("a",{parentName:"p",href:"https://www.markdownguide.org/basic-syntax/#links"},"Markdown link"),", but rather than linking to some complicated URL or fragment, it refers/links to a specific descriptive text (e.g. a ",(0,r.kt)("a",{parentName:"p",href:"@"},"definition"),", purpose, or example) that is associated with (a specific version of) a ",(0,r.kt)("a",{parentName:"p",href:"scoped-term@"},"(scoped) term"),", which is ",(0,r.kt)("a",{parentName:"p",href:"identify@essiflab"},"identified")," by its ",(0,r.kt)("a",{parentName:"p",href:"@"},"scope")," and the ",(0,r.kt)("a",{parentName:"p",href:"@"},"term")," (label, text)."),(0,r.kt)("p",null,"The complete, generic structure",(0,r.kt)("sup",{parentName:"p",id:"fnref-1"},(0,r.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1"))," of a ",(0,r.kt)("a",{parentName:"p",href:"@"},"term ref")," is: ","[",(0,r.kt)("inlineCode",{parentName:"p"},"show text"),"]","(",(0,r.kt)("inlineCode",{parentName:"p"},"id"),"#",(0,r.kt)("inlineCode",{parentName:"p"},"heading-id"),"@",(0,r.kt)("inlineCode",{parentName:"p"},"scopetag"),":",(0,r.kt)("inlineCode",{parentName:"p"},"vsn"),"), where:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"show-text")," (required) is the text that will be highlighted/emphasized to indicate it is linked. It must not contain the characters ",(0,r.kt)("inlineCode",{parentName:"li"},"@")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"]"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"id")," (optional) is a text that ",(0,r.kt)("a",{parentName:"li",href:"identify@essiflab"},"identifies")," the ",(0,r.kt)("a",{parentName:"li",href:"scoped-term@"},"(scoped) term")," in the part of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"corpus")," that contains the ",(0,r.kt)("a",{parentName:"li",href:"@"},"terminology")," of a specified ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope"),". If omitted, its value will be assigned the default, which is typically ",(0,r.kt)("inlineCode",{parentName:"li"},"show-text")," in which every character in the range ","[A-Z]"," is converted to lower-case, and every sequence of characters, all of which are not in ","[A-Z]",", ","[a-z]",", ",(0,r.kt)("inlineCode",{parentName:"li"},"_")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"-"),", are converted to ",(0,r.kt)("inlineCode",{parentName:"li"},"-"),". ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," shall only contain characters in regex ",(0,r.kt)("inlineCode",{parentName:"li"},"[a-z0-9_-]"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"heading-id")," (optional) is a text that ",(0,r.kt)("a",{parentName:"li",href:"identify@essiflab"},"identifies")," a particular kind of descriptive text that is associated with the ",(0,r.kt)("a",{parentName:"li",href:"@"},"term"),". If omitted (in which case the preceding ",(0,r.kt)("inlineCode",{parentName:"li"},"#"),"-character may also be omitted), the ",(0,r.kt)("a",{parentName:"li",href:"@"},"term ref")," will by default dereference to the text of its ",(0,r.kt)("a",{parentName:"li",href:"@"},"glossary")," entry. While it is envisaged that ",(0,r.kt)("inlineCode",{parentName:"li"},"heading-id")," must be a text from a predefined set of allowed/supported texts (e.g. ",(0,r.kt)("inlineCode",{parentName:"li"},"purpose"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"criteria"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"example-3"),"), the precise semantics remain to be specified. For now, ",(0,r.kt)("inlineCode",{parentName:"li"},"heading-id")," shall be constrained to only contain characters in regex ",(0,r.kt)("inlineCode",{parentName:"li"},"[a-z0-9_-]"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"scopetag")," (optional) is a ",(0,r.kt)("a",{parentName:"li",href:"@"},"tag")," that ",(0,r.kt)("a",{parentName:"li",href:"identify@essiflab"},"identifies")," the ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope")," in the ",(0,r.kt)("a",{parentName:"li",href:"@"},"terminology")," of which the ",(0,r.kt)("a",{parentName:"li",href:"scoped-term@"},"(scoped) term")," is contained. If omitted, a default ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope")," will be used, which is typically the ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope")," within which the document containing the ",(0,r.kt)("a",{parentName:"li",href:"@"},"term ref")," is being maintained. Note that the preceding ",(0,r.kt)("inlineCode",{parentName:"li"},"@")," sign may never be omitted because as it serves the purpose to distinguish ",(0,r.kt)("a",{parentName:"li",href:"@"},"term refs")," from other ",(0,r.kt)("a",{parentName:"li",href:"https://www.markdownguide.org/basic-syntax/#links"},"Markdown links"),". ",(0,r.kt)("inlineCode",{parentName:"li"},"scopetag")," shall only contain characters in regex ",(0,r.kt)("inlineCode",{parentName:"li"},"[a-z0-9_-]"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"vsn")," (optional) is a text that ",(0,r.kt)("a",{parentName:"li",href:"identify@essiflab"},"identifies")," the version of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"terminology")," in the ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope"),". If omitted (in which case the preceding ",(0,r.kt)("inlineCode",{parentName:"li"},":"),"-character may also be omitted), its value will be the default, which is ",(0,r.kt)("inlineCode",{parentName:"li"},"latest"),", which means the ",(0,r.kt)("a",{parentName:"li",href:"@"},"term ref")," points to the most recently established/published version of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"term"),". With the exception of ",(0,r.kt)("inlineCode",{parentName:"li"},"latest"),", the precise semantics remain to be specified. ",(0,r.kt)("inlineCode",{parentName:"li"},"vsn")," shall only contain characters in regex ",(0,r.kt)("inlineCode",{parentName:"li"},"[a-z0-9_-]"),". We may need to discuss whether or not this should be changed to the version of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"glossary")," rather than the version of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"term"),".")),(0,r.kt)("p",null,"Regexes for this syntax are specified in the ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," section."),(0,r.kt)("p",null,"Here is an example: ",(0,r.kt)("inlineCode",{parentName:"p"},"[definitions](definition@)")," is a reference to the default descriptive text associated with the latest version of the ",(0,r.kt)("a",{parentName:"p",href:"@"},"term")," that is identified in the ",(0,r.kt)("a",{parentName:"p",href:"@"},"scope")," by the label ",(0,r.kt)("inlineCode",{parentName:"p"},"definition"),"."),(0,r.kt)("p",null,"Tools MUST implement the typical default behaviors as specified above. However, they MAY have means, e.g. by configuration, to deviate from such behaviors. For example, a tool may have more sophisticated ways to derive a ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," from a ",(0,r.kt)("inlineCode",{parentName:"p"},"show text"),", e.g. to accommodate for plural forms (of nouns), or conjugate forms (for verbs).",(0,r.kt)("sup",{parentName:"p",id:"fnref-2"},(0,r.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))),(0,r.kt)("h3",{id:"termref-alt"},"Alternative notation"),(0,r.kt)("p",null,"It is convenient for authors to be able to use the '@",(0,r.kt)("inlineCode",{parentName:"p"},"scopetag"),"' part of a ",(0,r.kt)("a",{parentName:"p",href:"@"},"term ref")," immediately behind the ",(0,r.kt)("inlineCode",{parentName:"p"},"show text")," within the square brackets (",(0,r.kt)("inlineCode",{parentName:"p"},"[")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"]"),"), and leave out the parentheses and the text in between if all the other items are omitted."),(0,r.kt)("p",null,"This is particularly useful in the vast majority of cases, where the default processing of ",(0,r.kt)("inlineCode",{parentName:"p"},"show-text")," results in ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"heading-id")," is absent. Examples of this are ",(0,r.kt)("inlineCode",{parentName:"p"},"[definition](@)"),", or ",(0,r.kt)("inlineCode",{parentName:"p"},"[term ref](@)"),"."),(0,r.kt)("p",null,"The usefulness becomes even greater as the ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," also implements more sophisticated ways to derive a ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," from a ",(0,r.kt)("inlineCode",{parentName:"p"},"show text"),", e.g. to accommodate for plural forms (of nouns), or conjugate forms (for verbs).",(0,r.kt)("sup",{parentName:"p",id:"fnref-2"},(0,r.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))),(0,r.kt)("p",null,"This leads to an alternative notation that can be used in addition to the previously specified notation. Here is the alternative syntax and its equivalent counterpart:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Alternative syntax"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Equivalent regular syntax"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"[",(0,r.kt)("inlineCode",{parentName:"td"},"show text"),"@","]"),(0,r.kt)("td",{parentName:"tr",align:"center"},"[",(0,r.kt)("inlineCode",{parentName:"td"},"show text"),"]","(@)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"[",(0,r.kt)("inlineCode",{parentName:"td"},"show text"),"@",(0,r.kt)("inlineCode",{parentName:"td"},"scopetag"),"]"),(0,r.kt)("td",{parentName:"tr",align:"center"},"[",(0,r.kt)("inlineCode",{parentName:"td"},"show text"),"]","(",(0,r.kt)("inlineCode",{parentName:"td"},"show-text"),"@",(0,r.kt)("inlineCode",{parentName:"td"},"scopetag"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"[",(0,r.kt)("inlineCode",{parentName:"td"},"show text"),"@",(0,r.kt)("inlineCode",{parentName:"td"},"scopetag"),":",(0,r.kt)("inlineCode",{parentName:"td"},"vsn"),"]","(",(0,r.kt)("inlineCode",{parentName:"td"},"id"),"#",(0,r.kt)("inlineCode",{parentName:"td"},"heading-id"),")"),(0,r.kt)("td",{parentName:"tr",align:"center"},"[",(0,r.kt)("inlineCode",{parentName:"td"},"show text"),"]","(",(0,r.kt)("inlineCode",{parentName:"td"},"id"),"#",(0,r.kt)("inlineCode",{parentName:"td"},"heading-id"),"@",(0,r.kt)("inlineCode",{parentName:"td"},"scopetag"),":",(0,r.kt)("inlineCode",{parentName:"td"},"vsn"),")")))),(0,r.kt)("p",null,"In the last row of the above table, ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"#heading-id")," are optional. Thus, ",(0,r.kt)("inlineCode",{parentName:"p"},"[definition@]()")," is equivalent with ",(0,r.kt)("inlineCode",{parentName:"p"},"[definition](@)")," and with ",(0,r.kt)("inlineCode",{parentName:"p"},"[definition](@)"),". Regexes for this alternative syntax are specified in the ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," section."),(0,r.kt)("h2",{id:"trrt"},"Basic TRRT functions"),(0,r.kt)("p",null,"Finding a ",(0,r.kt)("a",{parentName:"p",href:"@"},"term ref")," in the file can be done by using a regular expression (regex)."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"For the original syntax, you can use the PCRE regex",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"(?<=[^`\\\\])\\[(?=[^@\\]]+\\]\\([#a-z0-9_-]*@[:a-z0-9_-]*\\))")," to find the ",(0,r.kt)("inlineCode",{parentName:"li"},"[")," that starts a ",(0,r.kt)("a",{parentName:"li",href:"@"},"term ref"),", and"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"(?P<showtext>.+?)\\]\\((?P<id>[a-z0-9_-]+?)(?:#(?P<headingid>[a-z0-9_-]+?))?@(?P<scopetag>[a-z0-9_-]*)(?::(?P<vsn>[a-z0-9_-]+?))?\\)")," to find the various parts of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"term ref")," as (named) capturing groups."))),(0,r.kt)("li",{parentName:"ul"},"For the alternative syntax, you can use the PCRE regex",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"(?<=[^`\\\\])\\[(?=[^@\\]]+@[:a-z0-9_-]*\\](?:\\([#a-z0-9_-]+\\))?)")," to find the ",(0,r.kt)("inlineCode",{parentName:"li"},"[")," that starts a ",(0,r.kt)("a",{parentName:"li",href:"@"},"term ref"),", and"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"(?P<showtext>.+?)@(?P<scopetag>[a-z0-9_-]*)(?::(?P<vsn>[a-z0-9_-]+?))?\\](?P<ref>\\((?P<id>[a-z0-9_-]*)(?:#(?P<headingid>[a-z0-9_-]+?))?\\))?")," to subsequently obtain the various fields as (named) capturing groups from the PCRE regex."))),(0,r.kt)("li",{parentName:"ul"},"These regexps should be improved to cater for exceptional situations, so that they do not match e.g. pieces of code (such as the regex specifications we presented above). Alternatively, ",(0,r.kt)("a",{parentName:"li",href:"#trrt"},"TRRT")," might specify specific syntax for pieces of text from within which a match with these regexps is ignored.")),(0,r.kt)("p",null,"You can use ",(0,r.kt)("a",{parentName:"p",href:"https://www.debuggex.com/"},"debuggex")," to see what these regexps do (make sure you choose PCRE as the regex flavor to work with)."),(0,r.kt)("p",null,"When a ",(0,r.kt)("a",{parentName:"p",href:"@"},"term ref")," is located, and its parts are known, any parts that are omitted (empty capturing groups) should be provided with their default value, as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"the ",(0,r.kt)("inlineCode",{parentName:"li"},"scopetag")," default refers to the ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope")," from which the ",(0,r.kt)("a",{parentName:"li",href:"#trrt"},"TRRT")," is called."),(0,r.kt)("li",{parentName:"ul"},"the ",(0,r.kt)("inlineCode",{parentName:"li"},"vsn")," defaults to ",(0,r.kt)("inlineCode",{parentName:"li"},"latest"),"."),(0,r.kt)("li",{parentName:"ul"},"the ",(0,r.kt)("inlineCode",{parentName:"li"},"headingid")," defaults to the empty string."),(0,r.kt)("li",{parentName:"ul"},"the ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," default is the ",(0,r.kt)("inlineCode",{parentName:"li"},"show-text")," in which every character in the range ","[A-Z]"," is converted to lower-case, and every sequence of characters, all of which are not in ","[A-Z]",", ","[a-z]",", ",(0,r.kt)("inlineCode",{parentName:"li"},"_")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"-"),", are converted to ",(0,r.kt)("inlineCode",{parentName:"li"},"-"),".")),(0,r.kt)("p",null,"To resolve a link, TRRT uses a (PCRE) regex that uses the names of the capturing groups, as well as ",(0,r.kt)("inlineCode",{parentName:"p"},"url"),", which is the URL of the glossary that needs to be referenced. The default regex for this is ",(0,r.kt)("inlineCode",{parentName:"p"},"[$<showtext>]($<url>/glossary.$<vsn>/#$<id>)"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," may provide an option to specify other defaults in a configuration file or as  command-line arguments."),(0,r.kt)("p",null,"The conversion of a ",(0,r.kt)("a",{parentName:"p",href:"@"},"term ref")," into a regular ",(0,r.kt)("a",{parentName:"p",href:"https://www.markdownguide.org/basic-syntax/#links"},"Markdown link")," can be done as follows, where any errors that occur are logged with a specific message, the file that is being processed, and the line number and character position of the ",(0,r.kt)("a",{parentName:"p",href:"@"},"term ref")," that caused the error:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Get the SAF of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope")," from which the ",(0,r.kt)("a",{parentName:"li",href:"#trrt"},"TRRT")," is called;"),(0,r.kt)("li",{parentName:"ul"},"Using its contents, dereference ",(0,r.kt)("inlineCode",{parentName:"li"},"scopetag")," to its associated ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope directory"),";"),(0,r.kt)("li",{parentName:"ul"},"Get the SAF of that ",(0,r.kt)("a",{parentName:"li",href:"@"},"scope directory"),";"),(0,r.kt)("li",{parentName:"ul"},"Using its contents, locate the directory that contains its MRGs;"),(0,r.kt)("li",{parentName:"ul"},"Using ",(0,r.kt)("inlineCode",{parentName:"li"},"vsn"),", get the associated MRG;"),(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," is a list element of a ",(0,r.kt)("inlineCode",{parentName:"li"},"formphrases")," field of some glossary entry, replace it with the ",(0,r.kt)("inlineCode",{parentName:"li"},"id"),"-field of that glossary entry;"),(0,r.kt)("li",{parentName:"ul"},"Find the glossary entry that has an ",(0,r.kt)("inlineCode",{parentName:"li"},"id"),"-field that is the same as ",(0,r.kt)("inlineCode",{parentName:"li"},"id"),";"),(0,r.kt)("li",{parentName:"ul"},"Set ",(0,r.kt)("inlineCode",{parentName:"li"},"link")," to the contents of the ",(0,r.kt)("inlineCode",{parentName:"li"},"url")," field of that glossary entry;"),(0,r.kt)("li",{parentName:"ul"},"Test that ",(0,r.kt)("inlineCode",{parentName:"li"},"link")," points to an existing resource;"),(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"heading-id")," is not empty, append ",(0,r.kt)("inlineCode",{parentName:"li"},"#<heading-id>")," to the contents of ",(0,r.kt)("inlineCode",{parentName:"li"},"link"),";"),(0,r.kt)("li",{parentName:"ul"},"Output ",(0,r.kt)("inlineCode",{parentName:"li"},"\\["),", ",(0,r.kt)("inlineCode",{parentName:"li"},"showtext"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"\\]("),", the contents of ",(0,r.kt)("inlineCode",{parentName:"li"},"link"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},")"),".")),(0,r.kt)("p",null,"The behavior of the ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," can be configured per call e.g. by a configuration file and/or command-line parameters. Examples include specifications for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"the default ",(0,r.kt)("inlineCode",{parentName:"li"},"scopetag"),";"),(0,r.kt)("li",{parentName:"ul"},"the set of source file(s) to process;"),(0,r.kt)("li",{parentName:"ul"},"the location(s) of destination file(s);"),(0,r.kt)("li",{parentName:"ul"},"options, e.g. to change what a resolved reference looks like (allowing processing of LaTeX or other kinds of files, or to mark such references in ways that can be picked up by other processing tools that are subsequently called in CI-pipes).")),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," should log conditions that prevent it from properly"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"parsing a source document (e.g. because it is not markdown, or the file has incomprehensible front matter);"),(0,r.kt)("li",{parentName:"ul"},"resolving references (e.g. if an unsupported referencing convention is encountered, the ",(0,r.kt)("inlineCode",{parentName:"li"},"scopetag")," cannot be understood, the ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," does not map to a defined ",(0,r.kt)("a",{parentName:"li",href:"@"},"term"),", etc.);"),(0,r.kt)("li",{parentName:"ul"},"writing the output (e.g. because it has no write-permission for the designated location);")),(0,r.kt)("p",null,"and provide suggestions that help tool-operators and/or document authors to identify and fix any problems."),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"#trrt"},"TRRT")," should come with documentation that enables developers to ascertain its correct functioning (e.g. by using a test set of files, test scripts that exercise its parameters, etc.), and also enables them to deploy the tool in a git repo and author/modify CI-pipes to use that deployment."),(0,r.kt)("h2",{id:"discussion-notes"},"Discussion Notes"),(0,r.kt)("p",null,"This section contains some notes of a discussion between Daniel and Rieks on these matters of some time ago."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A ToIP ",(0,r.kt)("a",{parentName:"li",href:"@"},"glossary")," will be put by default at ",(0,r.kt)("inlineCode",{parentName:"li"},"http://trustoverip.github.io/<terms-community>/glossary"),", where ",(0,r.kt)("inlineCode",{parentName:"li"},"<terms-community>")," is the name of the ",(0,r.kt)("a",{parentName:"li",href:"@"},"terms-community"),". This allows every  ",(0,r.kt)("a",{parentName:"li",href:"@"},"terms-community")," to have its own ",(0,r.kt)("a",{parentName:"li",href:"@"},"glossary"),". However, the above specifications allow ",(0,r.kt)("a",{parentName:"li",href:"terms-community@"},"terms-communities")," to ",(0,r.kt)("a",{parentName:"li",href:"@"},"curate")," multiple ",(0,r.kt)("a",{parentName:"li",href:"scope@"},"scopes"),"."),(0,r.kt)("li",{parentName:"ul"},"Storing ",(0,r.kt)("a",{parentName:"li",href:"glossary@"},"glossaries")," elsewhere was seen to break the (basic workings of the postprocessing tool, but the above specifications would fix that."),(0,r.kt)("li",{parentName:"ul"},"Entries, e.g. 'foo' can be referenced as ",(0,r.kt)("inlineCode",{parentName:"li"},"http://trustoverip.github.io/<community>/[glossary](@)#foo")," (in case of a standalone glossary), and ",(0,r.kt)("inlineCode",{parentName:"li"},"http://trustoverip.github.io/<community>/document-that-includes-glossary-fragment#foo")," (in case of a fragmented glossary)."),(0,r.kt)("li",{parentName:"ul"},"There will be a new convention for content authors who want to reference ",(0,r.kt)("a",{parentName:"li",href:"term@"},"terms")," (let's call it the 'short form'). This topic is fully addressed above, and extended to be a bit more generic."),(0,r.kt)("li",{parentName:"ul"},"do we expect ",(0,r.kt)("a",{parentName:"li",href:"glossary@"},"glossaries")," that are generated by a ",(0,r.kt)("a",{parentName:"li",href:"@"},"terms-community")," to live at a fixed place (how do people find it, refer to its contents)? This topic is addressed"),(0,r.kt)("li",{parentName:"ul"},"once ",(0,r.kt)("a",{parentName:"li",href:"glossary@"},"glossaries")," are generated, the idea is that all artifacts produced in a ",(0,r.kt)("a",{parentName:"li",href:"@"},"terms-community")," can use references to the ",(0,r.kt)("a",{parentName:"li",href:"term@"},"terms")," in the generated ",(0,r.kt)("a",{parentName:"li",href:"glossary@"},"glossaries"),", e.g.:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"confluence pages: we need to see how such pages can be processed. Authors can remove links like they do now, they could use ",(0,r.kt)("a",{parentName:"li",href:"@"},"term refs")," as they see fit and then run TRRT."),(0,r.kt)("li",{parentName:"ul"},"github pages (e.g. ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/trustoverip/ctwg-terms"},"https://github.com/trustoverip/ctwg-terms"),"). Check (it's a github repo)."),(0,r.kt)("li",{parentName:"ul"},"github wiki pages (e.g. ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/trustoverip/ctwg-terms/wiki"},"https://github.com/trustoverip/ctwg-terms/wiki"),"). Check (it's a github repo)."),(0,r.kt)("li",{parentName:"ul"},"github wiki home pages (e.g. ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/trustoverip/ctwg-terms/wiki/Home"},"https://github.com/trustoverip/ctwg-terms/wiki/Home"),"). Check (it's a github repo)."),(0,r.kt)("li",{parentName:"ul"},"github-pages pages (e.g. ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/trustoverip/ctwg-terms/docs"},"https://github.com/trustoverip/ctwg-terms/docs")))),(0,r.kt)("li",{parentName:"ul"},"We could also see GGT and TRRT to be extended, e.g. to work in conjunction with LaTeX or word-processor documents. This needs some looking into, but ",(0,r.kt)("a",{parentName:"li",href:"https://pandoc.org/"},"pandoc")," may be useful here.")),(0,r.kt)("div",{className:"footnotes"},(0,r.kt)("hr",{parentName:"div"}),(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol",id:"fn-1"},"We want to enable authors to use ",(0,r.kt)("a",{parentName:"li",href:"id@"},"term refs")," pervasively, which means it must be easy to use, and mistakes should be (relatively) hard to make, yet easy to detect, identify, and correct. ",(0,r.kt)("a",{parentName:"li",href:"https://www.markdownguide.org/basic-syntax/#links"},"Markdown links")," are of the form ","[",(0,r.kt)("inlineCode",{parentName:"li"},"show text"),"]","(",(0,r.kt)("inlineCode",{parentName:"li"},"ref-text"),"), where ",(0,r.kt)("inlineCode",{parentName:"li"},"show text")," is the text that is rendered and emphasized so that a user knows it can be clicked, and ",(0,r.kt)("inlineCode",{parentName:"li"},"ref-text")," is a (relative or absolute) URL, or a ",(0,r.kt)("a",{parentName:"li",href:"https://www.markdownguide.org/extended-syntax/#linking-to-heading-ids"},"heading ID"),", that identifies the resource (e.g. web page, or place therein) that is being referenced. So, we need a syntax for ",(0,r.kt)("a",{parentName:"li",href:"id@"},"term refs")," that is",(0,r.kt)("br",null),"- sufficiently similar to a ",(0,r.kt)("a",{parentName:"li",href:"https://www.markdownguide.org/basic-syntax/#links"},"Markdown link"),",",(0,r.kt)("br",null),"- 'humanly interpretable' when it isn't processed by the ",(0,r.kt)("a",{parentName:"li",href:"#trrt"},"TRRT"),",",(0,r.kt)("br",null),"- easy to use for authors, and",(0,r.kt)("br",null),"- sufficiently distinct from a Markdown link so that the ",(0,r.kt)("a",{parentName:"li",href:"#trrt"},"TRRT")," will not process Markdown links yet will process the ",(0,r.kt)("a",{parentName:"li",href:"id@"},"term refs"),".",(0,r.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,r.kt)("li",{parentName:"ol",id:"fn-2"},"Future versions of ",(0,r.kt)("a",{parentName:"li",href:"#trrt"},"TRRT")," are expected to be able to recognize specific ",(0,r.kt)("inlineCode",{parentName:"li"},"show text"),"s, e.g. as plural forms (for nouns), or conjugate forms (for verbs) for a specific ",(0,r.kt)("inlineCode",{parentName:"li"},"id"),", and use that ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," instead. This could e.g. be implemented as front matter of the resource document associated with ",(0,r.kt)("inlineCode",{parentName:"li"},"id"),".",(0,r.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}f.isMDXComponent=!0}}]);